{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Vyos-Config","text":""},{"location":"#my-vyos-router-configuration","title":"My VyOS Router Configuration","text":""},{"location":"#vlans","title":"VLANs","text":"VLAN Name Subnet 0 LAN 10.66.0.0/24 10 SERVERS 10.66.1.0/24 20 TRUSTED 10.66.2.0/24 30 GUEST 192.168.50.0/24 40 IOT 10.66.3.0/24 WIREGUARD 10.66.5.0/24 CONTAINERS 10.67.0.0/24 <p>Note</p> <p>DHCP will only hand out IPs from .200-.254</p>"},{"location":"#containers","title":"Containers","text":"Name Repo IP bind docker.io/internetsystemsconsortium/bind9:9.19 10.67.0.2 dnsdist docker.io/powerdns/dnsdist-18:1.8.0 10.67.0.3 haproxy (for k8s) docker.io/library/haproxy:2.7.8 10.67.0.4 unifi-controller ghcr.io/jacobalberty/unifi-docker:v7.5.174 10.67.0.5 cloudflare-ddns docker.io/favonia/cloudflare-ddns:1.9.4 udp-broadcast relay (mdns) ghcr.io/onedr0p/udp-broadcast-relay-redux:1.0.27 udp-broadcast relay (upnp) ghcr.io/onedr0p/udp-broadcast-relay-redux:1.0.27"},{"location":"#dns","title":"DNS","text":"<p>DNS routing is handled by a dnsdist container which splits traffic for users on the local network to either: </p> <ul> <li>an instance of bind9 for local services registered to my domain </li> <li>a public DNS server for anything else</li> </ul> <pre><code>flowchart LR\n      A[ User ];\n      B[ dnsdist ];\n      C{{ is .toskbot.xyz? }};\n      D[bind];\n      E{{ is from GUEST vlan? }};\n      F[ cloudflare ];\n      G[ nextdns ];\n      A-- request --&gt; B;\n      B --&gt; C;\n      C-- Yes --&gt; D;\n      C-- No --&gt; E;\n      E-- Yes --&gt; F;\n      E-- Yes --&gt; G;</code></pre>"},{"location":"quickstart/setup/","title":"Setup","text":""},{"location":"quickstart/updating_router_config/","title":"Updating Router","text":""}]}